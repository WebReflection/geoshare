/*! (c) Andrea Giammarchi - ISC License */
function lightdown(e){var r=[[],[],[]],c=/\x01(\d)/g,n=function(e,r,c){switch(c=c.replace(/([*_~"]+)(?!\s)([\S\s]*?\S)\1/g,n),r.charAt(0)){case"*":r=1===r.length?"em>":"strong>";break;case"_":r=1===r.length?"em>":"u>";break;case"~":r="strike>";break;case'"':return"“"+c+"”"}return"<"+r+c+"</"+r};return e.replace(c,"").replace(/(`{2,})([\S\s]+?)\1(\r\n|\n|\r)?/g,function(e,c,n){var t="",a=/^( )?([a-z]+)[\r\n]/i.exec(n);return a&&(t=a[2].toLowerCase(),n=n.slice((a[1]||"").length+t.length)),n=n.replace(/^\s+|\s+$/g,""),r[0].push('<pre><code class="'+t+'">'+n+"</code></pre>"),"0"}).replace(/(`)(?!\s)([\S\s]*?\S)\1/g,function(e,c,n){return r[1].push("<code>"+n+"</code>"),"1"}).replace(/(^|\s)([a-z]{2,}:\/\/[^\s/$.?#-]+\.\S+)/g,function(e,c,n){return c=c+'<a href="'+n.replace(/"/g,"&quot;")+'">',n=n.replace(/^[a-z]{2,}:\/\/(www\.)?(.{0,36})(.+)$/,function(e,r,c,n){return c+(n.length<2?n:"…")}),r[2].push(c+n+"</a>"),"2"}).replace(/([*_~"]+)(?!\s)([\S\s]*?\S)\1/g,n).replace(/^( *)\*( +)/gm,"$1•$2").replace(/^> (\S.*)(\r\n|\n|\r)?/gm,"<blockquote>$1</blockquote>").replace(/<\/blockquote><blockquote>/gm,"<br/>").replace(c,function(e,c){return r[c].shift()})}